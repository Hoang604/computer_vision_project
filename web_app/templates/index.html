<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Web Page</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1 style="text-align: center;">Welcome to My Web Page</h1>
    <div style="display: flex; width: 95vw; height: 80vh; margin: auto; padding: 10px;">
        <div
            style="flex: 3; background-color: lightblue; padding: 10px; margin: 5px; display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative;">
            <!-- Content for the first div (3 parts) -->
            <p>Left Div (30%)</p>

            <!-- Moved placeholder (initially hidden) -->
            <div id="moved-placeholder"
                style="width: 200px; height: 200px; border: 2px dashed #ccc; background-color: #f9f9f9; display: none; align-items: center; justify-content: center; margin-bottom: 30px; border-radius: 8px; position: absolute; top: 30px; z-index: 10;">
                <span style="color: #999; font-size: 14px;">Moved image</span>
            </div>

            <div class="custom-button-container" style="position: absolute; bottom: 80px;">
                <button class="start-popup-button" id="start-btn">start</button>
            </div>
            
            <div class="custom-button-container" style="position: absolute; bottom: 20px;">
                <button class="play-video-button" id="play-video-btn" disabled>Play Video</button>
            </div>
        </div>
        <div
            style="flex: 7; background-color: lightgreen; padding: 10px; margin: 5px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
            <!-- Content for the second div (7 parts) -->
            <p>Right Div (70%)</p>

            <!-- Original image placeholder -->
            <div id="image-placeholder"
                style="width: 300px; height: 300px; border: 2px dashed #ccc; background-color: #f9f9f9; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; border-radius: 8px;">
                <span style="color: #999; font-size: 16px;">No image uploaded</span>
            </div>

            <!-- Generated image placeholder (initially hidden) -->
            <div id="generated-image"
                style="width: 300px; height: 300px; border: 2px solid #007bff; background-color: #e3f2fd; display: none; align-items: center; justify-content: center; margin-bottom: 20px; border-radius: 8px;">
                <span style="color: #007bff; font-size: 16px;">Generated Image<br/>(Will be added later)</span>
            </div>

            <!-- Video simulation overlay (initially hidden) -->
            <div id="video-overlay"
                style="width: 300px; height: 300px; background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4); display: none; align-items: center; justify-content: center; margin-bottom: 20px; border-radius: 8px; position: absolute; z-index: 100; animation: videoPlay 5s ease-in-out;">
                <div style="text-align: center; color: white; font-size: 18px; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
                    <div>ðŸŽ¬ Video Playing...</div>
                    <div id="countdown" style="font-size: 24px; margin-top: 10px;">5</div>
                </div>
            </div>

            <!-- Upload button -->
            <input type="file" id="file-input" accept="image/*" style="display: none;">
            <button id="upload-btn" class="upload-button">
                Upload Image
            </button>
        </div>
    </div>
    <script>
        // Handle image upload
        const fileInput = document.getElementById('file-input');
        const uploadBtn = document.getElementById('upload-btn');
        const imagePlaceholder = document.getElementById('image-placeholder');
        const startBtn = document.getElementById('start-btn');
        const movedPlaceholder = document.getElementById('moved-placeholder');
        const generatedImage = document.getElementById('generated-image');
        const playVideoBtn = document.getElementById('play-video-btn');
        const videoOverlay = document.getElementById('video-overlay');
        const countdown = document.getElementById('countdown');

        let uploadedImageData = null;
        let isVideoPlaying = false;
        let hasStarted = false;

        uploadBtn.addEventListener('click', function () {
            fileInput.click();
        });

        fileInput.addEventListener('change', function (event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    // Reset to original state
                    uploadedImageData = e.target.result;
                    
                    // Reset to original state
                    imagePlaceholder.innerHTML = `<img src="${e.target.result}" style="max-width: 100%; max-height: 100%; object-fit: contain;" alt="Uploaded image">`;
                    imagePlaceholder.style.display = 'flex';
                    
                    // Hide moved placeholder and generated image
                    movedPlaceholder.style.display = 'none';
                    generatedImage.style.display = 'none';
                    
                    // Clear moved placeholder content
                    movedPlaceholder.innerHTML = '<span style="color: #999; font-size: 14px;">Moved image</span>';
                    
                    // Reset play video button state
                    hasStarted = false;
                    playVideoBtn.disabled = true;
                    playVideoBtn.style.opacity = '0.5';
                };
                reader.readAsDataURL(file);
            }
        });

        // Handle start button click
        startBtn.addEventListener('click', function () {
            if (uploadedImageData && !isVideoPlaying) {
                // Move the uploaded image to the left side
                movedPlaceholder.innerHTML = `<img src="${uploadedImageData}" style="max-width: 100%; max-height: 100%; object-fit: contain;" alt="Moved image">`;
                movedPlaceholder.style.display = 'flex';
                
                // Hide original placeholder and show generated image placeholder
                imagePlaceholder.style.display = 'none';
                generatedImage.style.display = 'flex';
                
                // Enable play video button
                hasStarted = true;
                playVideoBtn.disabled = false;
                playVideoBtn.style.opacity = '1';
                
                // Add smooth transition effect
                movedPlaceholder.style.opacity = '0';
                generatedImage.style.opacity = '0';
                
                setTimeout(() => {
                    movedPlaceholder.style.transition = 'opacity 0.5s ease-in-out';
                    generatedImage.style.transition = 'opacity 0.5s ease-in-out';
                    movedPlaceholder.style.opacity = '1';
                    generatedImage.style.opacity = '1';
                }, 100);
            } else if (!uploadedImageData) {
                alert('Please upload an image first!');
            }
        });

        // Handle play video button click
        playVideoBtn.addEventListener('click', function () {
            if (!isVideoPlaying && hasStarted) {
                isVideoPlaying = true;
                playVideoBtn.disabled = true;
                playVideoBtn.style.opacity = '0.5';
                
                // Show video overlay
                videoOverlay.style.display = 'flex';
                
                // Start countdown
                let timeLeft = 5;
                countdown.textContent = timeLeft;
                
                const countdownInterval = setInterval(() => {
                    timeLeft--;
                    countdown.textContent = timeLeft;
                    
                    if (timeLeft <= 0) {
                        clearInterval(countdownInterval);
                        
                        // Hide video overlay
                        videoOverlay.style.display = 'none';
                        
                        // Reset video state
                        isVideoPlaying = false;
                        playVideoBtn.disabled = false;
                        playVideoBtn.style.opacity = '1';
                    }
                }, 1000);
            }
        });
    </script>
    <script src="script.js"></script>

    <style>
        .custom-button-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }

        .start-popup-button {
            padding: 10px 20px;
            font-size: 16px;
            color: white;
            background-color: #28a745;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: inline-block;
            transition: transform 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transform: translateY(0);
        }

        .start-popup-button:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .start-popup-button:active {
            transform: translateY(1px) scale(0.97);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
        }

        .upload-button {
            padding: 10px 20px;
            font-size: 16px;
            color: white;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: inline-block;
            transition: transform 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transform: translateY(0);
        }

        .upload-button:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .upload-button:active {
            transform: translateY(1px) scale(0.97);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
        }

        .play-video-button {
            padding: 10px 20px;
            font-size: 16px;
            color: white;
            background-color: #dc3545;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: inline-block;
            transition: transform 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transform: translateY(0);
        }

        .play-video-button:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .play-video-button:active {
            transform: translateY(1px) scale(0.97);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
        }

        .play-video-button:disabled {
            cursor: not-allowed;
            transform: none;
            opacity: 0.5 !important;
        }

        @keyframes videoPlay {
            0% { transform: scale(1); }
            25% { transform: scale(1); }
            50% { transform: scale(1); }
            75% { transform: scale(1); }
            100% { transform: scale(1); }
        }
    </style>

</body>

</html>